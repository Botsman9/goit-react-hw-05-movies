{"version":3,"file":"static/js/MovieDetailedView.f50cb3a3.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieDetailsPage/MovieDetailsPage.module.css?377f","components/MovieDetailsPage/MovieDetailsPage.jsx","components/Services/movies-api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetailsPage_container__ex2M7\",\"image\":\"MovieDetailsPage_image__WA7+X\",\"box\":\"MovieDetailsPage_box__cie+9\",\"title\":\"MovieDetailsPage_title__hKN7a\",\"rating\":\"MovieDetailsPage_rating__SZEC7\",\"subtitle\":\"MovieDetailsPage_subtitle__GdCys\",\"descr\":\"MovieDetailsPage_descr__kUCwU\",\"genres\":\"MovieDetailsPage_genres__08B0T\",\"link\":\"MovieDetailsPage_link__GOl7c\",\"activeLink\":\"MovieDetailsPage_activeLink__V7+bB\",\"button\":\"MovieDetailsPage_button__dtyec\"};","import { useState, useEffect, lazy, Suspense } from 'react';\nimport {\n  Route,\n  Switch,\n  NavLink,\n  useParams,\n  useRouteMatch,\n  useLocation,\n  useHistory,\n} from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport { fetchMovieById, IMAGE_URL } from '../Services/movies-api';\nimport s from './MovieDetailsPage.module.css';\n\nconst Cast = lazy(() =>\n  import('../Cast/Cast' /* webpackChunkName: \"MovieCastView\" */),\n);\nconst MovieReview = lazy(() =>\n  import('../MoviesPage/MoviesPage' /* webpackChunkName: \"MovieReview\" */),\n);\n\nconst MovieDetailsPage = () => {\n  const history = useHistory();\n  const location = useLocation();\n  console.log(location);\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const { url, path } = useRouteMatch();\n\n  useEffect(() => {\n    fetchMovieById(movieId).then(movie => {\n      setMovie(movie);\n    });\n  }, [movieId]);\n\n  const onGoBack = () => {\n    history.push(location?.state?.from ?? '/');\n  };\n  //   if (location && location.state && location.state.from) {\n  //     history.push(location.state.from);\n  //     return;\n  //   }\n  //   history.push('/');\n  // }\n\n  return (\n    <>\n      {movie && (\n        <>\n          <button type=\"button\" className={s.button} onClick={onGoBack}>\n            GoBack\n          </button>\n          <div>\n            <div className={s.container}>\n              <img\n                className={s.image}\n                src={IMAGE_URL + movie.poster_path}\n                alt={movie.title || movie.name}\n                widht=\"300\"\n                height=\"450\"\n              />\n\n              <div className={s.box}>\n                <h2 className={s.title}>{movie.title || movie.name}</h2>\n                <p className={s.rating}>\n                  User Score:\n                  <span className={s.descr}> {movie.vote_average} </span>\n                </p>\n                <p className={s.subtitle}>\n                  Overview:\n                  <span className={s.descr}>{movie.overview}</span>\n                </p>\n                <p className={s.subtitle}>\n                  Genres:\n                  <span className={s.genres}>\n                    {movie.genres.map(genre => genre.name).join(' / ')}\n                  </span>\n                </p>\n              </div>\n            </div>\n            <hr />\n\n            <nav>\n              <NavLink\n                to={`${url}/cast`}\n                className={s.link}\n                activeClassName={s.activeLink}\n              >\n                Cast\n              </NavLink>\n              <NavLink\n                to={`${url}/reviews`}\n                className={s.link}\n                activeClassName={s.activeLink}\n              >\n                Reviews\n              </NavLink>\n            </nav>\n\n            <Suspense fallback={<Loader />}>\n              <Switch>\n                <Route path={`${path}/cast`}>\n                  <Cast movieId={movieId} />\n                </Route>\n\n                <Route path={`${path}/reviews`}>\n                  <MovieReview movieId={movieId} />\n                </Route>\n              </Switch>\n            </Suspense>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","const KEY = '7e78d9d0b80a5a9938ce5aba09bf2c47';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nexport const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrendMovies() {\n  return fetchWithErrorHandling(`${BASE_URL}/trending/all/day?api_key=${KEY}`);\n}\n\nexport function fetchMovieById(id) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${id}?api_key=${KEY}&language=en-US`,\n  );\n}\n\nexport function fetchMovieSearch(name) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/search/movie?api_key=${KEY}&query=${name}&language=en-US&page=1&include_adult=false`,\n  );\n}\n\nexport function fetchMovieCast(id) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${id}/credits?api_key=${KEY}&language=en-US`,\n  );\n}\n\nexport function fetchMovieReviews(id) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${id}/reviews?api_key=${KEY}&language=en-US`,\n  );\n}\n"],"names":["Cast","lazy","MovieReview","history","useHistory","location","useLocation","console","log","movieId","useParams","useState","movie","setMovie","useRouteMatch","url","path","useEffect","fetchMovieById","then","type","className","s","onClick","push","state","from","src","IMAGE_URL","poster_path","alt","title","name","widht","height","vote_average","overview","genres","map","genre","join","to","activeClassName","Suspense","fallback","KEY","BASE_URL","fetchWithErrorHandling","config","fetch","response","ok","json","Promise","reject","Error","fetchTrendMovies","id","fetchMovieSearch","fetchMovieCast","fetchMovieReviews"],"sourceRoot":""}